#include<stdio.h>
#include<stdlib.h>
#include<unistd.h>

typedef struct {
char  int_name[32];
int (*isr)();
}isr_t;


int rtc_interrupt()
{
    printf("rtc_interrupt....\n");
}

int i2c_interrupt()
{
    printf("i2c_interrupt....\n");
}

int keyboard_interrupt()
{
    printf("keyboard_interrupt....\n");
}

int mouse_interrupt()
{
    printf("mouse_interrupt....\n");
}

int usb_interrupt()
{
    printf("usb_interrupt....\n");
}


isr_t ivt[]=

{


	{"isr0",keyboard_interrupt},
	{"isr1",mouse_interrupt},
	{"isr2",rtc_interrupt},
	{"isr3",i2c_interrupt},
	{"isr4",usb_interrupt},

};




int main()
{

while(1)
{
	(ivt[rand()%5].isr)();
	sleep(1);
}

}



#if 0


krupa@krupa-VirtualBox:~/krupa$ gcc funpointerinterrupt.c
krupa@krupa-VirtualBox:~/krupa$ ./a.out
i2c_interrupt....
mouse_interrupt....
rtc_interrupt....
keyboard_interrupt....
i2c_interrupt....
keyboard_interrupt....
mouse_interrupt....
rtc_interrupt....
usb_interrupt....
mouse_interrupt....
rtc_interrupt....
rtc_interrupt....
keyboard_interrupt....
usb_interrupt....
i2c_interrupt....
mouse_interrupt....
keyboard_interrupt....
mouse_interrupt....
rtc_interrupt....
mouse_interrupt....
mouse_interrupt....
i2c_interrupt....
rtc_interrupt....
usb_interrupt....
rtc_interrupt....
keyboard_interrupt....
rtc_interrupt....
i2c_interrupt....
rtc_interrupt....
keyboard_interrupt....
usb_interrupt....
rtc_interrupt....
rtc_interrupt....
i2c_interrupt....
usb_interrupt....
rtc_interrupt....
i2c_interrupt....
mouse_interrupt....
mouse_interrupt....
rtc_interrupt....
usb_interrupt....
i2c_interrupt....
^C

#endif